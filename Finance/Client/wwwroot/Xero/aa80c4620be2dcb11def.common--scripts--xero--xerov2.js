!function(t){function e(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:s})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/assets/",e(e.s=606)}({606:function(t,e){XERO.util.enable=function(){new Ext.util.DelayedTask(function(){Windows.closeAll(),document.body.style.cursor="default",XERO.widget.Buttons.enable()}).delay(1500)},XERO.util.enableButtons=function(){new Ext.util.DelayedTask(function(){XERO.widget.Buttons.enable()}).delay(1e3)},XERO.util.logSearchClick=function(t,e){Ext.Ajax.request({url:"/Accounts/Receivable/Dashboard/LogSearchClickEvents",params:{eventName:t,pageName:e},method:"POST"})},XERO.widget.Button=function(t){this.el=Ext.get(t),this.el.hasClass("exclude")||(this.el.on("click",this.click,this),this.a=this.el.dom.innerHTML,this.el.child("a")&&(this.link=this.el.child("a").getAttribute("href"),this.action=this.el.child("a").getAttribute("onclick")))},XERO.util.createThrottled=function(t,e,i){function s(){t.apply(i||this,n),a=Date.now()}var a,n,l;return function(){var t=Date.now()-a;n=arguments,clearTimeout(l),!a||t>=e?s():l=setTimeout(s,e-t)}},XERO.util.emphasizeText=function(t,e){var i=new RegExp(e,"gi");return t.replace(i,"<strong>$&</strong>")},XERO.util.escapeRegexSpecialCharacters=function(t){return t.replace(/([.+*^$\\()[?|{#])/g,"\\$1")},XERO.util.flattenObject=function(t,e){var i={};e=e||"";for(var s in t)if(t.hasOwnProperty(s))if("object"==typeof t[s]){var a=XERO.util.flattenObject(t[s]);for(var n in a)a.hasOwnProperty(n)&&(i[s+e+n]=a[n])}else i[s]=t[s];return i},XERO.widget.Button.prototype={click:function(){var t=this.el;t.hasClass("disabled")||null==XERO.widget.Buttons.clicked&&(t.hasClass("skip")||(XERO.widget.Buttons.clicked=t,t.hasClass("doNotDisableOthers")?this.disable():new Ext.util.DelayedTask(function(){XERO.widget.Buttons.disable(),XERO.widget.Menus.disable()}).delay(0)),this.link&&"#"!=this.link&&"javascript:"!=this.link&&(window.location=this.link))},spin:function(){el=this.el,this.disable(),width=el.getWidth(),el.addClass("spin"),el.setWidth(width)},stop:function(){el=this.el,el.removeClass("spin"),el.setStyle("width","auto"),el.update(this.a)},enable:function(){el=this.el,this.color(!0),el==XERO.widget.Buttons.clicked?this.stop():this.a&&el.update(this.a)},disable:function(){el=this.el,this.color(!1),el.child("a")&&el.child("a").set({href:"#",onclick:""})},color:function(t){el=this.el,1==t?(el.hasClass("disabled")&&el.removeClass("disabled"),(el.hasClass("red")||el.hasClass("green")||el.hasClass("blue"))&&el.removeClass("gray")):(el.hasClass("disabled")||el.addClass("disabled"),!el.hasClass("thin")&&(el.hasClass("red")||el.hasClass("green")||el.hasClass("blue"))&&el.addClass("gray"))}},Ext.apply(Ext.form.DateField.prototype,{format:"d/m/y",altFormats:"d/m/Y|d-m-y|d-m-Y|d/m|d-m|dm|dmy|dmY|d|Y-m-d"}),XERO.widget.Dates={active:null,cache:new Ext.util.MixedCollection,validate:function(){if(this.active){var t=this.active.calendar.getRawValue();t=Data.parse(t),t?this.active.calendar.setValue(t):this.active.calendar.setValue(this.active.data.date)}},removePaymentDate:function(t,e){elm={},elm.row=this.cache.get(t),elm.row.calendar.setValue(null),elm.row.calendar.reset()},save:function(t,e,i,s){if(s){if(elm={},elm.row=this.cache.get(t),"remove"==i&&elm.row.calendar.setValue(null),elm.date=elm.row.calendar.getValue().format("j M Y"),elm.notes=elm.row.notes.textarea.getValue(),"cancel"==i){XERO.widget.Template.Messages.hideAnyMessages(),elm.row.notes.textarea.dom.value="";var e=data.getValue("ExpectedPayDate");return e?elm.row.calendar.setValue(e):elm.row.calendar.reset(),void elm.row.close()}if(data=Ajax.SaveFollowUpPanel(s,elm.notes,elm.date),data.value.IsValid){try{elm.row.notes.el.down(".displayCounter").removeClass("displayCounter")}catch(t){}if(XERO.widget.Template.Messages.hideAnyMessages(),"expected"!=e)return;elm.row.showSuccess(),elm.row.getData(),ed=elm.row.invoice.ed,elm.row.updateInvoice();var a=elm.row.calendar.container.dom.parentElement;if(elm.date){if(!a.children.namedItem("remove-expected-payment-date-button")){var n=document.createElement("a");n.href="#",n.id="remove-expected-payment-date-button",n.classList.add("delete"),n.innerText="Remove Date",n.addEventListener("click",function(){return XERO.widget.Dates.removePaymentDate(t,s)}),a.appendChild(n)}ed.removeClass("st-add"),ed.addClass("st-change")}else{a.removeChild(a.children.namedItem("remove-expected-payment-date-button")),ed.removeClass("st-change"),ed.addClass("st-add");var l=document.createElement("span");l.classList.add("icons"),l.classList.add("add-date"),l.innerText=" ",ed.dom.children[0].hasClassName("icons")||ed.dom.insertBefore(l,ed.dom.children[0]),elm.row.invoice.el.child("div.ed/a.date/span").update("Add Date & Notes"),elm.row.invoice.td.removeClass("red")}switch(i){case"save":break;case"view":window.location="/AccountsReceivable/View.aspx?invoiceID="+s;break;case"print":elm.row.updateInvoice(),InvoicePrinting.PrintSingleInvoice(s,!1);break;case"mark":invoice=XERO.Invoices.cache.get(0),1==invoice.sent?invoice.pdf():invoice.action("print");break;case"send":elm.row.updateInvoice(),parent.location="/AccountsReceivable/ViewStatement.aspx?statementContactID="+elm.row.data.contact.id;break;case"email":XERO.Invoices.cache.get(0).email()}"expected1"==t&&XERO.widget.Histories.refresh(data.values)}else{var o=XERO.widget.Template.Messages.buildErrorMessage(data.value.Result.toString());XERO.widget.Template.Messages.showMessage(o,"error"),Ext.getBody().dom.scrollTop=0}}}},XERO.widget.Dates.Expected=function(t){this.el=Ext.get(t),this.td=this.el.child("td"),this.invoice={},this.invoice.el=this.el.prev("tr"),this.invoice.id=this.invoice.el.child("input[type=checkbox]").dom.value,this.invoice.ed=this.invoice.el.child("div.ed"),this.invoice.td=this.invoice.ed.parent("td"),this.invoice.icon=this.invoice.el.child("span.icons"),this.invoice.date=this.invoice.el.child("div.ed/a.date"),this.contact={},this.contact.el=this.el.child("div.contact"),this.contact.name=this.contact.el.child("a"),this.contact.numbers=this.contact.el.child("p"),this.notes={},this.notes.el=this.el.child("div.notes"),this.notes.textarea=this.notes.el.child("textarea"),this.notes.tip=this.notes.el.child("p"),this.date=this.el.child("div.picker"),this.calendar=new XERO.widget.DateField({format:"us"==Ext.get("HelpRegion").getValue()?"MMM d, yyyy":"d MMM yyyy",renderTo:this.date,clearable:!0,preventMark:!0,showToday:!1,validationEvent:!1,hideLabel:!0,width:80,listeners:{blur:function(t,e,i){""==t.getValue()&&t.setValue(Date.today())}}}),this.calendar.render(this.date),this.dl={},this.dl.el=this.el.child("dl"),this.dl.dt=this.dl.el.child("dt"),this.dl.dd=this.dl.el.child("dd"),this.invoice.icon&&this.invoice.icon.on("click",this.click,this),this.invoice.date&&this.invoice.date.on("click",this.click,this),this.success=this.el.child("div.success")},XERO.widget.Dates.Expected.prototype={click:function(){if(Ext.EventObject.stopEvent(),active=XERO.widget.Dates.active,active){if(active==this)return;active.close()}XERO.widget.Dates.active=this,this.data||(this.showWaiting(),this.getData()),this.open()},open:function(){this.el.setStyle("display",""),this.invoice.el.addClass("opened"),this.dl.dd.anchorTo(this.dl.dt,"bl")},close:function(){this.el.removeClass("saved"),this.invoice.el.removeClass("opened"),this.el.setStyle("display","none"),XERO.widget.Dates.active=null},showWaiting:function(){this.el.setStyle("display",""),this.el.addClass("waiting")},showSuccess:function(){height=this.el.getHeight()+"px",this.el.addClass("saved"),this.el.setStyle("height",height),fade=new Ext.util.DelayedTask(function(){this.close()},this),fade.delay(750)},getData:function(){data=Ajax.GetFollowUpPanel(this.invoice.id),data.value&&(data=data.value.Data,this.data={},this.data.contact={},this.data.contact.id=data.getValue("ContactID"),this.data.contact.name=data.getValue("ContactName"),this.data.contact.firstname=data.getValue("ContactFirstName"),this.data.contact.lastname=data.getValue("ContactLastName"),this.data.contact.phone=data.getValue("ContactPhone"),this.data.contact.mobile=data.getValue("ContactMobile"),this.data.contact.ddi=data.getValue("ContactDDI"),this.data.notes={},this.data.notes.text=data.getValue("LastNote"),this.data.notes.date=data.getValue("LastNoteDate"),this.data.date=data.getValue("ExpectedPayDate"),this.setData())},setData:function(){this.contact.name.update(this.data.contact.name),this.contact.name.set({href:"/Contacts/View/"+this.data.contact.id}),numbers="",(this.data.contact.firstname||this.data.contact.lastname)&&(numbers+="Contact Person: "+this.data.contact.firstname+" "+this.data.contact.lastname+"<br/>"),this.data.contact.phone&&(numbers+="Phone: "+this.data.contact.phone+"<br/>"),this.data.contact.mobile&&(numbers+="Mobile: "+this.data.contact.mobile+"<br/>"),this.data.contact.ddi&&(numbers+="DDI: "+this.data.contact.ddi+"<br/>"),this.contact.numbers.update(numbers),notes="",this.data.notes.text&&(notes+="Previous note from "+this.data.notes.date+"<span>"+Ext.util.Format.ellipsis(this.data.notes.text,150)+"</span>"),this.notes.tip.update(notes),this.data.date&&this.calendar.setValue(this.data.date),this.el.hasClass("waiting")&&this.el.removeClass("waiting")},updateInvoice:function(){day=this.calendar.getValue(),this.notes.textarea.dom.value="";var t="us"==Ext.get("HelpRegion").getValue();this.invoice.date.child("span").update(day.format(t?"M j, Y":"j M Y")),today=Date.today().format("Y-m-d"),day.format("Y-m-d")<today?this.invoice.td.addClass("red"):this.invoice.td.removeClass("red")}},XERO.widget.Row={Radio:function(t){this.el=Ext.get(t),this.choice=this.el.child("td.choice"),this.el.on("click",this.check,this,{stopEvent:!1}),radio=this.el.query("input[type=radio]"),radio&&(t=Ext.get(radio[0]),this.input=t,1==this.input.dom.checked&&this.init())},Standard:function(t){if(this.el=Ext.get(t),!this.el.hasClass("exclude")){if(this.el.on("mousemove",this.over,this),this.el.on("mouseout",this.out,this),this.el.on("click",this.select,this,{delegate:"input[type=checkbox]",stopEvent:!1}),nav=this.el.child("td/a.nav"),nav)for(this.nav=nav,tds=this.el.query("td"),i=0;i<tds.length;i++)t=Ext.get(tds[i]),t.child("input")||t.on("click",this.click,this);else this.el.addClass("default");if(chkbox=this.el.query("input[type=checkbox]"),chkbox)for(i=0;i<chkbox.length;i++)t=Ext.get(chkbox[i]),this.input=t,1==this.input.dom.checked&&this.highlight();if(sent=this.el.query("td.sent"),sent)for(i=0;i<sent.length;i++)t=Ext.get(sent[i]),this.sent=t}}},XERO.widget.Column={Standard:function(t){},Vertical:function(t,e){this.el=Ext.get(t),this.parent=e,this.td=this.el.parent("td"),this.box=this.td.getBox(),this.size=this.parent.el.getHeight(),this.el.on("click",this.select,this),this.td.on("click",this.click,this),1==this.el.dom.checked&&this.select()}},XERO.widget.Column.Vertical.prototype={click:function(){this.el.dom.click()},select:function(){this.parent.active=this}},XERO.widget.Row.Radio.prototype={input:null,parent:null,init:function(){task=new Ext.util.DelayedTask(function(){this.check()},this),task.delay(100)},check:function(t,e,i){this.parent.uncheck(),this.highlight(),this.input.dom.checked=!0,this.parent.active=this,roles=XERO.widget.Roles.cache.get(0),roles&&roles.update(this.input,i)},highlight:function(){el=this.el,el.hasClass("selected")?el.removeClass("selected"):el.addClass("selected")}},XERO.widget.Row.Standard.prototype={input:null,parent:null,nav:null,over:function(t,e){el=this.el,el.hasClass("over")||Ext.fly(e).hasClass("attachment")||el.addClass("over")},out:function(t,e){el=this.el,el.hasClass("over")&&el.removeClass("over")},click:function(t,e){"A"!=e.tagName&&(nav=this.nav.getAttribute("href"),"#"==nav||"javascript:"==nav?this.nav.dom.onclick():window.location=this.nav.dom.href)},last:null,select:function(t,e){t&&!0===t.shiftKey||(el=this.el,el.hasClass("selected")?this.uncheck():this.check(),this.parent.tally())},check:function(){this.highlight(),this.input.dom.checked=!0},uncheck:function(){this.highlight(),this.input.dom.checked=!1,this.parent&&1==this.parent.all&&(this.parent.input.dom.checked=!1,this.parent.all=!1)},highlight:function(){el=this.el,el.hasClass("selected")?el.removeClass("selected"):el.addClass("selected")}},XERO.widget.Popups=function(){this.Window=null},XERO.widget.Popups.prototype={CreatePopupFormChrome:function(t,e,i,s,a,n,l,o,c){var h=XERO.MsgBox.createAjax(e,{title:i,html:"string"==typeof l?l:null,fromEl:t,width:s,modal:!0});if("function"==typeof l){l(h)}return h},CreatePopupFormCallback:function(t,e){var i=e.value;if(!i)return void Statements.emailWindow.destroy();t.setHtml(i.Result)}},XERO.widget.Table={Standard:function(t){if(this.el=Ext.get(t),this.el.hasClass("ignoreTable"))return null;this.rows=new Ext.util.MixedCollection,rows=this.el.query("tbody/tr[class!=expected]");for(var e=0;e<rows.length;e++)this.rows.add(rows[e].id||"row"+e,new XERO.widget.Row.Standard(rows[e])),this.rows.items[e].parent=this,Ext.fly(rows[e]).select("input[type=checkbox]").on("click",this.select.createDelegate(this,[e],0),this);if(expected=this.el.query("tbody/tr[class=expected]"),expected)for(var e=0;e<expected.length;e++)XERO.widget.Dates.cache.add(expected[e].id,new XERO.widget.Dates.Expected(expected[e]));input=this.el.query("thead/tr/td/input[type=checkbox]"),input[0]&&(this.actions=this.el.prev("div.action-bar:next(table#"+this.el.id+")"),!this.actions&&this.el.parent("div.ajax")&&(this.actions=this.el.parent("div.ajax").prev("div.action-bar")),this.input=Ext.get(input[0]),this.input.on("click",this.selectAll,this),this.input.dom.checked&&this.selectAll()),Ext.fly("defaultCurrencyISOCode")&&(this.defaultCurrencyISOCode=Ext.fly("defaultCurrencyISOCode").getValue()),this.tally()},Vertical:function(t){for(this.el=Ext.get(t),this.columns=new Ext.util.MixedCollection,cols=this.el.query("input[type=radio]"),i=0;i<cols.length;i++)this.columns.add(cols[i].id||"col"+i,new XERO.widget.Column.Vertical(cols[i],this))},Radio:function(t){this.el=Ext.get(t),this.rows=new Ext.util.MixedCollection,rows=this.el.query("tbody/tr[class!=exclude]");for(var e=0;e<rows.length;e++)this.rows.add(rows[e].id||"row"+e,new XERO.widget.Row.Radio(rows[e])),this.rows.items[e].parent=this}},XERO.widget.Table.Standard.prototype={type:"standard",rows:new Ext.util.MixedCollection,groupedTotals:new Ext.util.MixedCollection,groupedTotalsText:null,actions:null,all:!1,checkedItems:null,selectedTypes:null,selectedAmounts:null,countItems:null,totalAmount:null,selectedFXCurrencies:null,defaultCurrencyISOCode:null,questionButtonHasListener:null,count:function(){this.countItems=this.checkedItems.length,this.selectedTypes=[],this.selectedFXCurrencies=[];for(var t=0;t<this.countItems;t++){var e=this.checkedItems[t].value,i=Ext.fly("invoiceType_"+e),s=Ext.fly("currency_AmountDue_"+e),a=null,n=null;null!=i&&(a=i.dom.value),null!=a&&-1==this.selectedTypes.indexOf(a)&&this.selectedTypes.push(a),n=null!=s?s.dom.innerHTML:this.defaultCurrencyISOCode,null!=n&&-1==this.selectedFXCurrencies.indexOf(n)&&this.selectedFXCurrencies.push(n)}},createTotalText:function(t,e){this.groupedTotalsText+=new Decimal(e.fxAmount).toFormatted()+" "+t.replace("CURR/","")},sumTotals:function(t,e){this.totalAmount+=e.baseAmount},total:function(){if(this.totalAmount=0,this.groupedTotals.clear(),this.groupedTotalsText="",this.countItems>0){for(var t=0,e=this.checkedItems.length;t<e;t++){var i=Ext.get(this.checkedItems[t]),s=i.parent("tr");if(s.child("td.xoCode")){var a=s.child("td.xoAmount")?new Decimal(s.child("td.xoAmount").dom.innerHTML).num:0,n=s.child("td.xoBaseAmount")?new Decimal(s.child("td.xoBaseAmount").dom.innerHTML).num:a,l=s.child("td.xoCode").dom.innerHTML;if(s.child("td.xoDefaultCode").dom.innerHTML,this.groupedTotals.containsKey(l)){var o=this.groupedTotals.get(l).fxAmount,c=this.groupedTotals.get(l).baseAmount,h=o+a,d=c+n;this.groupedTotals.replace(l,{fxAmount:h,baseAmount:d})}else this.groupedTotals.add(l,{fxAmount:a,baseAmount:n})}}this.groupedTotals.length>1?(this.groupedTotals.eachKey(this.sumTotals,this),this.groupedTotalsText+=new Decimal(this.totalAmount).toFormatted()+" "+"".replace("CURR/","")):(this.groupedTotals.length=1)&&this.groupedTotals.eachKey(this.createTotalText,this)}},setActionBarButtonsDisabledState:function(t,e){Ext.query(".js-actionButton").map(function(i){(i.classList.contains("js-copyToInit")||i.classList.contains("js-moreButton"))&&e?i.classList.add("disabled"):i.classList[t?"add":"remove"]("disabled")})},displayTooltip:function(){if(!Ext.fly("invoiceInvalidSelectionBubble-popup")){var t=new XERO.tip.PointerTip({target:Ext.fly("invoiceInvalidSelectionBubble"),id:"invoiceInvalidSelectionBubble-popup",title:"Prepayments and Credit Notes cannot be copied.",width:250,position:"top",pointerPosition:"center",baseCls:"x-white-tip",showAbove:!0});t.on("show",function(){Ext.defer(function(){Ext.fly("invoiceInvalidSelectionBubble-popup")&&Ext.fly("invoiceInvalidSelectionBubble-popup").remove()},1e4,this),window.addEventListener("click",function t(){Ext.fly("invoiceInvalidSelectionBubble-popup")&&"invoiceInvalidSelectionBubble"!==event.target.id&&(Ext.fly("invoiceInvalidSelectionBubble-popup").remove(),window.removeEventListener("click",t))})}),t.show()}},tally:function(){this.checkedItems=this.el.query("tbody/tr/td/input[type=checkbox]:checked"),this.selectedAmounts=this.el.query("tbody/tr/td.xoAmount");var t=Ext.get("invoiceInvalidSelectionBubble"),e=0;this.checkedItems.forEach(function(t){for(var i=0;i<Object.keys(XERO.invoices).length;i++)if(t.value==Object.keys(XERO.invoices)[i]){var s=Object.values(XERO.invoices)[i].invoiceTypeCode;"INVOICETYPE/ACCRECCREDIT"!=s&&"INVOICETYPE/ARPREPAYMENT"!=s||e++}}),this.count(),this.total(),this.actions&&(this.countItems>0?(this.setActionBarButtonsDisabledState(!1,e>0&&e==this.countItems),this.selectedAmounts.length>0?msg=String.format("{0} item{1} selected{2}{3}",this.countItems,1==this.countItems?"":"s",null!=this.groupedTotalsText?" | "+this.groupedTotalsText:"",e>0?", "+e+" item"+(e>1?"s":"")+" cannot be copied ":""):msg=1==this.countItems?this.countItems+" item selected":this.countItems+" items selected",this.actions.child("span.count").update(msg),Ext.select("div.action-bar .draft-total")&&Ext.select("div.action-bar .draft-total").hide(),e>0?(this.questionButtonHasListener||(t.on("click",this.displayTooltip),this.questionButtonHasListener=!0),t&&t.removeClass("bubble-hidden")):t&&t.removeClass("bubble-hidden")):(this.setActionBarButtonsDisabledState(!0,!1),this.actions.child("span.count").hasClass("no-text")?this.actions.child("span.count").update(""):this.actions.child("span.count").update("No items selected"),Ext.select("div.action-bar .draft-total")&&Ext.select("div.action-bar .draft-total").show(),t&&t.addClass("bubble-hidden"))),this.countItems==this.rows.length&&this.countItems>0&&this.input&&(this.input.dom.checked=!0,this.all=!0)},selectAll:function(){if(items=this.rows.items,0==this.all){for(var t=0;t<items.length;t++)!items[t].el.hasClass("selected")&&items[t].input&&items[t].check();this.all=!0}else{for(var t=0;t<items.length;t++)items[t].el.hasClass("selected")&&items[t].input&&items[t].uncheck();this.all=!1}this.tally()},lastRow:0,select:function(t,e){if(e.shiftKey&&!1!==this.lastRow)if(t<=this.lastRow)for(i=t;i<this.lastRow;i++)!this.rows.items[i].el.hasClass("selected")&&this.rows.items[i].input&&this.rows.items[i].check();else for(i=t;i>this.lastRow;i--)!this.rows.items[i].el.hasClass("selected")&&this.rows.items[i].input&&this.rows.items[i].check();this.lastRow=t,this.tally()}},XERO.widget.Table.Vertical.prototype={type:"vertical",active:!1},XERO.widget.Table.Radio.prototype={type:"radio",active:!1,uncheck:function(){this.active&&(this.active.input.dom.checked=!1,this.active.highlight())}},XERO.widget.Tables={cache:new Ext.util.MixedCollection,getItems:function(t){for(actions=Ext.get(t).parent("div.action-bar"),i=0;i<this.cache.length;i++)if(this.cache.items[i].actions==actions)return this.cache.items[i].checkedItems},getTypes:function(t){for(actions=Ext.get(t).parent("div.action-bar"),i=0;i<this.cache.length;i++)if(this.cache.items[i].actions==actions)return this.cache.items[i].selectedTypes},getFXCurrencies:function(t){for(actions=Ext.get(t).parent("div.action-bar"),i=0;i<this.cache.length;i++)if(this.cache.items[i].actions==actions)return this.cache.items[i].selectedFXCurrencies},isInvoice:function(t){return"INVOICETYPE/ACCREC"===Ext.get("invoiceType_"+t).getValue()},hoverMessage:function(t,e){var i=new XERO.ux.HoverMessage({type:e,msg:t,closable:!1,handler:!1});Ext.defer(function(){i.close()},5e3)},toggleInvoiceReminders:function(t,e){var i=this.getItems(t)||[],s=i.map(function(t){return t.getValue()}).filter(this.isInvoice);if(!s||0===s.length)return void XERO.util.enable();var a=this;Ext.Ajax.request({url:"/Ajax/Reminders/UpdateInvoiceReminders",scope:a,params:{invoiceIds:s,turnRemindersOn:e},success:function(t){XERO.util.enable();var e=JSON.parse(t.responseText),i=e.message;e.isValid?(this.hoverMessage(i,"info"),e.ids.forEach(function(t){document.querySelectorAll("[data-id=reminders-"+t+"]")[0].innerText=e.status})):this.hoverMessage(i,"error")},failure:function(){XERO.util.enable();this.hoverMessage("We couldn't update your invoices, please try again later.","error")}})},bulkUpdate:function(t,e,i,s){if(s||(s=!1),popup=XERO.MsgBox,items=this.getItems(t),items&&0!=items.length){txt=1==items.length?"item":"items",html="You have selected "+items.length+" "+txt+" to "+i.toLowerCase()+".";var a=function(){s&&XERO.util.enable(),"approve"===i&&XERO.salesTaxLookup?(new XERO.salesTaxLookup.BulkInvoices).approve(items,function(){SubmitAction(e)}):SubmitAction(e)};popup.confirmSpin("Confirm",html,"OK",a,"Cancel")}},bulkUpdateToJs:function(t,e,i,s,a){s||(s=!1),popup=XERO.MsgBox,items=this.getItems(t),selectedTypes=this.getTypes(t),0!=items.size()&&(-1!=selectedTypes.indexOf("INVOICETYPE/PAYSLIP")?selectedTypes.length>1?popup.alert("Please print payslips in a separate print run to your other bills.","Sorry"):(XERO.widget.Custom.AR.markAsSent.mark=XERO.payroll.Payslips.Printing.mark,XERO.widget.Custom.AR.markAsSent.pdf=XERO.payroll.Payslips.Printing.pdf,XERO.widget.Custom.AR.markAsSent.init(t)):(txt=1==items.length?"item":"items",html="You have selected "+items.length+" "+txt+" to "+i.toLowerCase()+".",submit="",s&&(submit+="XERO.util.enable();"),a&&(submit+="XERO.util.enableButtons();"),submit+=e,popup.confirmSpin("Confirm",html,"OK",submit,"Cancel")))},bulkUpdateEx:function(t,e,i,s){s||(s=!1);var a=XERO.MsgBox,n=this.getItems(t);if(n&&0!=n.length){if("function"==typeof i){i(n);return!1}if("string"==typeof i){var l=1==n.length?"item":"items",o="You have selected "+n.length+" "+l+" to "+e.toLowerCase()+".",c=s?"XERO.util.enable();":"";c+='SubmitAction("'+i+'")',a.confirmSpin("Confirm",o,"OK",c,"Cancel")}else alert("ProgError:submitActionStrOrFuncPointer must be string or funcPointer.")}},refresh:function(){XERO.widget.Tables.cache.clear();for(var t=Ext.query("table.standard"),e=0;e<t.length;e++)XERO.widget.Tables.cache.add(t[e].id||"table"+e,new XERO.widget.Table.Standard(t[e]))},bulkUpdateIdsWithExtSubmit:function(t,e,i,s,a,n,l){var o=this,c=(Ext.select("input[name=__RequestVerificationToken]").first().getValue(),XERO.MsgBox),h=o.getItems(t);if(h&&0!=h.length){if(a){if(!0!==function(t){return Ext.each(h,function(e){t=t&&a.call(this,e)}),t}(!0))return void c.alert(n,l||"Error")}if(h.length>50){return void c.alert("You cannot create a deposit for more than 50 invoices.","Too many invoices to pay")}else location.href=Ext.String.format("{0}/?invoiceIds={1}",i,Ext.Array.map(h,function(t){return t.value}).join(","));return!1}}},XERO.widget.Role=function(t,e){if(e=(e||Ext.emptyFn).bind(this),this.el=Ext.get(t),this.can_toggle_payroll=!1,this.can_remove_payroll_only=!1,this.has_payroll_access=!1,this.getRole(),this.manage={},this.manage.title=this.el.child("h3.manage")||!1,this.manage.title&&(this.manage.name="manage",this.manage.el=this.manage.title.next("div.field"),this.manage.input=this.manage.el.child("input"),this.manage.description=this.manage.el.child("span").dom.innerHTML),this.payroll={},this.payroll.title=this.el.child("h3.payroll")||!1,this.payroll.title&&(this.payroll.name="payroll",this.payroll.el=this.payroll.title.next("div.field"),this.payroll.input=this.payroll.el.child("input"),this.payroll.description=this.payroll.el.child("span").dom.innerHTML),this.bankadmin={title:this.el.child("h3.bankadmin")},this.bankadmin.title){var i=this.bankadmin.title.next("div.field");Ext.applyIf(this.bankadmin,{name:"bankadmin",el:i,input:i.child("input"),description:i.child("span").dom.innerHTML,shouldEnable:e})}this.support={},this.support.title=this.el.child("h3.support")||!1,this.support.title&&(this.support.name="support",this.support.el=this.support.title.next("div.field"),this.support.input=this.support.el.child("input"),this.support.description=this.support.el.child("span").dom.innerHTML),this.init()},XERO.widget.Role.prototype={init:function(t){if(this.active){switch(this.active){case"subscriber":this.disable(this.manage,!0),this.enable(this.bankadmin);break;case"employee":this.disable(this.manage),this.bankadmin.shouldEnable();break;case"accountant":this.enable(this.manage),this.enable(this.bankadmin),this.support&&this.enable(this.support);break;case"admin":this.enable(this.manage),this.enable(this.bankadmin);break;case"onramp":this.disable(this.manage),this.disable(this.bankadmin),this.disable(this.support);break;case"client":this.disable(this.manage),this.enable(this.bankadmin),this.disable(this.support);break;case"reader":this.disable(this.manage),this.disable(this.bankadmin);break;case"none":this.disable(this.manage),this.disable(this.bankadmin)}if(this.can_toggle_payroll)switch(this.active){case"subscriber":this.enable(this.payroll);break;case"employee":this.disable(this.payroll);break;case"accountant":case"admin":this.enable(this.payroll);break;case"onramp":case"client":case"reader":this.disable(this.payroll);break;case"none":this.enable(this.payroll)}else this.can_remove_payroll_only?"subscriber"==this.active||"accountant"==this.active||"admin"==this.active||"none"==this.active?this.disable(this.payroll,this.has_payroll_access):this.disable(this.payroll,!1):this.disable(this.payroll,this.payroll.input.dom.checked);this.bankadmin&&t&&(this.bankadmin.input.dom.checked=!1)}},enable:function(t,e){e||(e=!1),t.title&&(t.title.removeClass("disabled"),t.el.removeClass("disabled"),t.input.dom.disabled=!1,t.el.child("span").dom.innerHTML=t.description)},disable:function(t,e){e||(e=!1),t.title&&(t.title.addClass("disabled"),t.el.addClass("disabled"),t.input.dom.disabled=!0,"payroll"!=t.name||this.can_toggle_payroll?t.el.child("span").dom.innerHTML=e?t.description:"Unavailable for this access level":t.el.child("span").dom.innerHTML="You do not have permission to change this"),t.input&&(t.input.dom.checked=e?"checked":"")},update:function(t,e){this.getRole(t),this.clear(),this.el.addClass(this.active),this.init(e)},getRole:function(t){t||(t=this.el),t.hasClass("can-give-payroll")&&(this.can_toggle_payroll=!0),t.hasClass("can-remove-payroll")&&(this.can_remove_payroll_only=!0),t.hasClass("has-payroll-access")&&(this.has_payroll_access=!0),t.hasClass("subscriber")&&(this.active="subscriber"),"subscriber"!=this.active&&(this.active=t.dom.className)},clear:function(){this.el.hasClass("subscriber")?this.el.className="roleOptions subscriber":this.el.className="roleOptions"}},XERO.widget.Roles={cache:new Ext.util.MixedCollection},XERO.widget.Custom={AR:{markAsSent:{init:function(t){if(this.items=XERO.widget.Tables.getItems(t),custom=XERO.widget.Custom.AR.markAsSent,this.items&&0!=this.items.length)return this.getValues(),0==this.unmarked.count?(p="You have selected "+this.count+" "+this.text+" to print.",void XERO.MsgBox.confirmSpin("Confirm",p,"OK","XERO.util.enableButtons();XERO.widget.Custom.AR.markAsSent.pdf()","Cancel")):(1==this.count?p="You have selected 1 item to print.</p><p>Would you like to mark this item as sent?":0==this.marked.count?p="You have selected "+this.count+" "+this.text+" to print.</p><p>Would you like to mark "+this.unmarked.noun+" "+this.unmarked.text+" as sent?":(p="You have selected "+this.count+" "+this.text+" to print and "+this.marked.count+" "+this.marked.text+" "+this.marked.verb+" already marked as sent.",1==this.unmarked.count?p+=" Would you like to mark the other item as sent?":p+=" Would you like to mark the other "+this.unmarked.count+" "+this.unmarked.text+" as sent?"),void XERO.MsgBox.confirmMarkAsSent("Confirm",p,"Mark as sent","XERO.util.enableButtons();XERO.widget.Custom.AR.markAsSent.mark()","Leave as-is","XERO.util.enableButtons();XERO.widget.Custom.AR.markAsSent.pdf()"))},getValues:function(){for(this.count=this.items.length,1==this.count?(this.noun="this",this.verb="was",this.text="item"):(this.noun="these",this.verb="were",this.text="items"),this.unmarked={},this.unmarked.count=0,i=0;i<this.count;i++)elm=Ext.fly(this.items[i]),elm&&(td=elm.parent("tr").child("td.sent"),td.hasClass("hide")&&(this.unmarked.count=this.unmarked.count+1));1==this.unmarked.count?(this.unmarked.noun="this",this.unmarked.verb="was",this.unmarked.text="item"):(this.unmarked.noun="these",this.unmarked.verb="were",this.unmarked.text="items"),this.marked={},this.marked.count=this.count-this.unmarked.count,0==this.marked.count?(this.marked.noun="this",this.marked.text="item"):1==this.marked.count?(this.marked.verb="is",this.marked.noun="this",this.marked.text="item"):(this.marked.verb="are",this.marked.noun="these",this.marked.text="items")},deselect:function(t){table=XERO.widget.Tables.cache.items[0],1==table.all?table.input.dom.click():this.items.each(function(t){(t=Ext.fly(t))&&(t=table.rows.get(t.parent("tr").dom.id),t.select())}),1==t&&this.items.each(function(t){t=Ext.fly(t),t=table.rows.get(t.parent("tr").dom.id),t.sent.addClass("show"),t.sent.removeClass("hide")}),table.tally()},response:function(t){t||(t=!1),this.close=new Ext.util.DelayedTask(function(){1==t?(this.showMessage(),this.deselect(!0)):this.deselect()},this),this.close.delay(1e3)},showMessage:function(){msg=Ext.fly("marked"),msg&&(msg.child("p").update(this.unmarked.count+" "+this.unmarked.text+" "+this.unmarked.verb+" marked as sent"),msg.setStyle("display",""))},mark:function(){this.response(!0),InvoicePrinting.PrintInvoicesFromForm("selectedInvoices",!0)},pdf:function(){this.response(),InvoicePrinting.PrintInvoicesFromForm("selectedInvoices",!1)}}}},XERO.widget.GetStarted=function(t){this.bus=XERO.bus,this.el=Ext.get(t),this.a=this.el.child("a.gs-close"),this.em=this.el.child("em.icons"),this.a.on("click",this.toggle,this),this.em.on("click",this.toggle,this),this.bus.addListener("gettingstarted:toggle",this.toggle,this)},XERO.widget.GetStarted.prototype={show:function(){this.el.set({style:{display:""}}),this.visible=!0,this.bus.fireEvent("gettingstarted:show")},hide:function(){this.el.fadeOut({duration:.25,useDisplay:!0,callback:function(){this.bus.fireEvent("gettingstarted:hidden")}.bind(this)}),this.visible=!1,this.bus.fireEvent("gettingstarted:hide")},toggle:function(){this.el.isVisible()?this.hide():this.show(),this.save()},save:function(){Ajax.SaveGettingStarted(this.visible)}},XERO.Invoice=function(t,e,i,s){this.el=Ext.get(t),this.id=e,this.contact=i,this.type=s,this.status=this.el.child("div.left"),this.network=!!this.el.child("em.network.true"),("AR"==this.type&&this.status.hasClass("sent")||"Payslip"==this.type&&this.status.hasClass("sent"))&&(this.sent=!0),this.init()},XERO.Invoice.prototype={sent:!1,init:function(){task=new Ext.util.DelayedTask(function(){this.message=XERO.widget.Messages.cache.get(0)},this),task.delay(100)},email:function(t){t||(t=!1),this.enable(),task=new Ext.util.DelayedTask(function(){InvoiceEmailing.SendInvoiceByEmail(this.id)},this),task.delay(1e3)},send:function(){result=Ajax.SendEmails_8([this.contact],[this.id],[Ext.fly("MessageSendCopy"+this.contact).dom.checked],[Ext.fly("MarkAsSent"+this.contact).dom.checked],[!!Ext.fly("MessageUseXeroNetwork"+this.contact)&&Ext.fly("MessageUseXeroNetwork"+this.contact).dom.checked],"True",Form.serializeToCollection($("frmEmailStatements")),"True"==Ext.fly("MessageUseXeroNetwork").dom.value).value,result&&(result.IsValid?(this.enable(),Windows.closeAll(),this.window.destroy(),this.window=null,this.message.p.update(result.Data.getValue("sentMessage")),this.message.show(),result.Data.getValue("markAsSent")&&(this.setCursor(),this.sent=!0,this.status.addClass("sent"))):this.window.setHtml(result.Result))},mark:function(t){this.sent=!0,this.status.addClass("sent")},unmark:function(){this.sent=!1,this.status.removeClass("sent"),Ajax.UnMarkAsSent(this.id)},credit:function(t,e,i,s,a){var n=Ext.util.Format.htmlEncode(t);XERO.MsgBox.confirm(n+" has <strong>"+e+"</strong> in outstanding credit. Would you like to allocate credit to this "+a+"?","Allocate Outstanding Credit?",null,"Allocate",function(){url="/Credits/Allocate.aspx?documentID="+XERO.Invoices.cache.get(0).id,i&&(url+="&addAnother=true"),s&&(url+="&print=true"),parent.location=url},"Skip")},enable:function(){task=new Ext.util.DelayedTask(function(){XERO.widget.Buttons.enable()}),task.delay(1500)},setCursor:function(){document.body.style.cursor="wait",setTimeout(function(){document.body.style.cursor="default"},1e3),Windows.closeAll()}},XERO.Invoices={cache:new Ext.util.MixedCollection},XERO.widget.History=function(t){this.el=Ext.get(t),this.reference=Ext.get("HistoryReferenceID").getValue(),this.notes={},this.notes.last=this.el.child("div.last"),this.data=this.el.child("div.listings"),this.create={},this.create.el=this.el.child("div.note"),this.create.textarea=this.el.child("textarea"),this.btns={},this.btns.show={},this.btns.show.el=this.el.child("#history01"),this.btns.hide={},this.btns.hide.el=this.el.child("#history02")},XERO.widget.History.prototype={init:function(){this.result=Ajax.GetHistoryHtml(this.reference),this.result&&(this.data.update(this.result.value),new XERO.widget.Table.Standard(Ext.get("Notes")),this.tally())},tally:function(){this.table=Ext.get("Notes"),this.count=this.table.query("tbody/tr.xoHistoryNote").length},add:function(){this.create.el.show()},remove:function(){this.create.el.set({style:{display:"none"}}),this.create.textarea.dom.value="",XERO.widget.Template.Messages.hideAnyMessages()},save:function(){if(""==this.create.textarea.getValue())return void this.remove();if(void 0!==window.Invoice&&window.Invoice&&window.Invoice.creditNoteType?res=Ajax.SaveNoteWithType(this.reference,this.create.textarea.getValue(),Invoice.creditNoteType):void 0!==window.Credit&&window.Credit&&window.Credit.lastInvoiceType?res=Ajax.SaveNoteWithType(this.reference,this.create.textarea.getValue(),window.Credit.lastInvoiceType):res=Ajax.SaveNote(this.reference,this.create.textarea.getValue()),res.value.IsValid){this.hide(),this.remove(),this.init(),this.update(res),this.show();var t=Ext.get("counter");t&&t.hasClass("displayCounter")&&t.removeClass("displayCounter")}else{var e=XERO.widget.Template.Messages.buildErrorMessage(res.value.Result.toString());XERO.widget.Template.Messages.showMessage(e,"error")}},show:function(){this.data.update("Loading..."),this.data.show(),task=new Ext.util.DelayedTask(function(){this.init(),this.data.show(),this.refresh(),this.btns.show.el.addClass("hide").removeClass("show"),this.btns.hide.el.addClass("show").removeClass("hide")},this),task.delay(1500)},hide:function(){this.data.hide(),this.btns.show.el.addClass("show").removeClass("hide"),this.btns.hide.el.addClass("hide").removeClass("show")},update:function(t){var e=t.value.Data.getValue("Result");this.notes.last.update(e[0]+"<span>"+e[1]+"</span>"),this.notes.last.set({style:{display:"block"}}),this.refresh()},refresh:function(){var t=XERO.widget.Buttons.cache,e=this.count,i=1==e?"entry":"entries";Ext.fly("history01").update("Show History ("+e+" "+i+")"),Ext.fly("history02").update("Hide History ("+e+" "+i+")"),t.get("history01").a="Show History ("+e+" "+i+")",t.get("history02").a="Hide History ("+e+" "+i+")"}},XERO.widget.Histories={cache:new Ext.util.MixedCollection,refresh:function(t,e){var i=this.cache.get(0);if(i){if(t||(t=!1),i.init(),i.refresh(),!0===e){var s=i.table.query("tbody/tr.xoHistoryNote")[0];a=s.cells[2].innerHTML.replace("&nbsp;"," ").trim(),n=s.cells[3].innerHTML.replace("&nbsp;"," ").trim(),l=s.cells[1].innerHTML.replace("&nbsp;"," ").replace(", "," at ").trim()}else if(t){var a=Ext.query("ul.user/li/a.name")[0].innerHTML,n=t[0],l=t[1];e=!0}e&&i.notes.last.update("On "+l+", "+a+" wrote:<span>"+n+"</span>")}}},XERO.Bank=function(t,e){this.el=Ext.get(t),this.number=this.el.child("span.logos").dom.id,this.position=e[0],this.sort={},this.sort.el=this.el.child("div.sortable"),this.sort.input=this.sort.el.child("input"),this.id=this.sort.input.dom.value,this.sort.btns={},this.sort.btns.el=this.sort.el.child("div.order"),this.sort.btns.up=this.sort.el.child("em.move-up").parent("div.button"),this.sort.btns.down=this.sort.el.child("em.move-down").parent("div.button"),this.sort.input.on("click",this.check,this),this.sort.btns.up.on("click",this.up,this),this.sort.btns.down.on("click",this.down,this),this.init()},XERO.Bank.prototype={init:function(){this.toggleButtons(),0==this.position&&this.sort.btns.up.addClass("disabled")},toggleButtons:function(){""!=this.sort.input.dom.checked?(this.sort.btns.el.set({style:{display:""}}),this.checked=!0):(this.sort.btns.el.set({style:{display:"none"}}),this.checked=!1)},check:function(){Ajax.ShowOnDashboard(this.id),this.toggleButtons(),this.checked?this.add():this.remove()},up:function(){this.sort.btns.up.hasClass("disabled")||(position=this.position-2,-1==position?this.el.insertBefore(XERO.Banks.cache.get(0).el):this.el.insertAfter(XERO.Banks.cache.get(position).el),XERO.Banks.refresh())},down:function(){this.sort.btns.down.hasClass("disabled")||(position=this.position+1,this.el.insertAfter(XERO.Banks.cache.get(position).el),XERO.Banks.refresh())},add:function(){for(place=!1,i=0;i<XERO.Banks.cache.length;i++)elm=XERO.Banks.cache.get(i),elm!=this&&elm.checked&&(place=elm);0!=place?this.el.insertAfter(place.el):(first=XERO.Banks.cache.first(),this!=first&&this.el.insertBefore(first.el)),XERO.Banks.refresh()},remove:function(){for(unchecked=[],place=!1,i=0;i<XERO.Banks.cache.length;i++)elm=XERO.Banks.cache.get(i),elm==this||elm.checked||unchecked.push(elm);if(unchecked[0])for(i=0;i<unchecked.length;i++)this.number>unchecked[i].number&&(place=unchecked[i]);0!=place?this.el.insertAfter(place.el):(last=XERO.Banks.cache.last(),this!=last&&this.el.insertAfter(last.el)),XERO.Banks.refresh()},clear:function(){this.sort.btns.up.removeClass("disabled"),this.sort.btns.down.removeClass("disabled"),this.sort.input.un("click",this.check,this),this.sort.btns.up.un("click",this.up,this),this.sort.btns.down.un("click",this.down,this)}},XERO.Banks={cache:new Ext.util.MixedCollection,disable:function(){for(i=0;i<this.cache.length;i++)elm=this.cache.get(i+1),elm||(elm=this.cache.get(i),elm.checked&&elm.sort.btns.down.addClass("disabled")),elm.checked||this.cache.get(i).sort.btns.down.addClass("disabled")},refresh:function(){for(this.cache.each(function(t){t.clear()}),this.cache.clear(),accounts=Ext.query(".bank"),i=0;i<accounts.length;i++)XERO.Banks.cache.add([i],new XERO.Bank(accounts[i],[i]));this.disable(),this.saveOrder()},saveOrder:function(){results=[],XERO.Banks.cache.each(function(t){t.checked&&results.push({AccountID:t.id,AccountIndex:t.position})}),bankdetailsJSON=Ext.util.JSON.encode(results),Ajax.SaveBankAccountsOrder(bankdetailsJSON)},add:function(t){t||(t=!1),task=new Ext.util.DelayedTask(function(){XERO.widget.Buttons&&XERO.widget.Buttons.enable()}),task.delay(1500),runner=new Ext.util.DelayedTask(function(){result=Ajax.GetAddBankAccountHtml_1(t),result=result.value,result&&(popup=XERO.MsgBox.create("AddBankAccountWindow",{title:"Add Bank Account",html:result.Result,modal:!0}),popup.show())}),runner.delay(100)}},XERO.Accounts={add:function(){task=new Ext.util.DelayedTask(function(){XERO.widget.Buttons&&XERO.widget.Buttons.enable()}),task.delay(1e3),runner=new Ext.util.DelayedTask(function(){result=Ajax.GetAddAccountHtml(),result=result.value,result&&(popup=XERO.MsgBox.create("AddAccountWindow",{title:"Add Account",html:result,modal:!0,width:700}),popup.show())}),runner.delay(100)},code:function(t,e){var i=Ext.fly(t).getValue().trim();Ext.get(t).set({value:i});var s,a=Ext.get("CodeComment");""!=i?(a.update('<span class="gray">checking...</span>'),a.show(),result=e&&""!=e?Ajax.AccountCodeChanged_2(i,e):Ajax.AccountCodeChanged_1(i),result=result.value,s=result?result.Result:""):s="",a.update(s),""!=s?a.show():a.hide()},download:function(){task=new Ext.util.DelayedTask(function(){document.body.style.cursor="default",XERO.widget.Buttons&&XERO.widget.Buttons.enable()}),task.delay(1500),SubmitAction("DownloadCOA")}},getStarted={gs:[],showMovie:function(t,e,i,s,a){XERO.MsgBox.movie(t,e,i,s,a)}},notify={close:function(t,e,i){state="block"==i,Ajax.CloseNotification(e,state,function(t){})}},searchbar={clear:function(t){"journal"==t?$("sb_txtRef").value="":"cheque"==t?(Ext.fly("sb_txtDescription").dom.value="",Ext.fly("sb_txtMinAmount").dom.value="",Ext.fly("sb_txtMaxAmount").dom.value="",Ext.fly("sb_txtMaxAmount").dom.disabled=!1,Ext.fly("sb_dteEndDate").dom.disabled=!1,Ext.fly("sb_chkExactAmount").dom.disabled=!1,Ext.fly("sb_chkExactAmount").dom.checked=!1,Ext.fly("sb_chkExactDate").dom.disabled=!1,Ext.fly("sb_chkExactDate").dom.checked=!1,amount=Ext.fly("lbl_sb_txtMinAmount"),amount&&amount.update("Minimum Amount"),date=Ext.fly("lbl_sb_dteStartDate"),date&&date.update("Start Date"),Ext.get("endDate").show(),Ext.get("maxAmount").show(),$("sb_drpBankAccount").value="",$("sb_drpBankAccount_value").value="",$("sb_drpStatus").value="",$("sb_drpStatus_value").value=""):($("sb_txtReference").value=$("sb_drpWithin").value="",$("sb_drpWithin").value="any",$("sb_drpWithin_value").value="Any date",$("sb_drpInvoiceStatusFilter")&&($("sb_drpInvoiceStatusFilter").value="",$("sb_drpInvoiceStatusFilter").value="all"),$("sb_drpInvoiceStatusFilter_value")&&($("sb_drpInvoiceStatusFilter_value").value="All"),Ext.query(".cb-rows input").each(function(t){t.checked=!1})),$("sb_dteStartDate").value="",$("sb_dteEndDate").value=""}}}});