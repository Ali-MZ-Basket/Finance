!function(e){function t(o){if(a[o])return a[o].exports;var n=a[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,o){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/assets/",t(t.s=545)}({545:function(e,t){XERO.ns("XERO.EmailTemplatesDropdown"),XERO.EmailTemplatesDropdown.AfterUpdateHandler=function(e,t,a){var o=a.key;XERO.EmailTemplatesDropdown.Autocompleter=e;var n=XERO.EmailTemplatesDropdown.GetFieldGuid();"true"===Ext.get("MessageSubject"+n).dom.getAttribute("data-changed")||"true"===Ext.get("MessageTextBody"+n).dom.getAttribute("data-changed")?XERO.MsgBox.confirm("You have made changes to the message and/or subject. These changes will be lost if you select a different email template. Are you sure you want to select a different email template?","Email template",null,"Yes",function(e){XERO.EmailTemplatesDropdown.UpdateFields(o),e.destroy()},"No",XERO.EmailTemplatesDropdown.CancelUpdate,null,null,{close:XERO.EmailTemplatesDropdown.CancelUpdate}):XERO.EmailTemplatesDropdown.UpdateFields(o)},XERO.EmailTemplatesDropdown.CancelUpdate=function(e){XERO.EmailTemplatesDropdown.Autocompleter.setValue(XERO.EmailTemplatesDropdown.LastValue,!0),e.destroy()},XERO.EmailTemplatesDropdown.UpdateFields=function(e){var t=Ext.decode(e);XERO.EmailTemplatesDropdown.LastValue=e;var a=XERO.EmailTemplatesDropdown.GetFieldGuid(),o=Ext.get("MessageSubject"+a),n=Ext.get("MessageTextBody"+a);o.dom.value=Ext.util.Format.htmlDecode(t.Subject),n.dom.value=Ext.util.Format.htmlDecode(t.Content),o.dom.setAttribute("data-changed",!1),n.dom.setAttribute("data-changed",!1),InvoiceEmailing.onTemplateUpdate(o,n)},XERO.EmailTemplatesDropdown.GetFieldGuid=function(){return"object"==typeof RT&&"string"==typeof RT.messageSettingsPopupContactID?RT.messageSettingsPopupContactID:""}}});